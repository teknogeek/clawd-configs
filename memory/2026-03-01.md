# 2026-03-01 (Discord #clawd) — networking + tracker/qB lessons

## Key outcomes
- Root cause of LAN slowdown during seedbox torrenting was *packet loss / CPU saturation*, not “bandwidth math”.
- Measured with `ping` to 1.1.1.1: high loss (10–30%+) correlated with user-facing slowdowns; speedtest could still look “fine” due to multi-flow/path differences.

## Hard lessons
- Always use **ping loss/jitter** as the canary under load; speedtests can lie.
- Torrents can trigger issues at moderate Mbps due to **PPS/connection churn**.
- UniFi UDM-SE can become the bottleneck via **IDS/IPS (Suricata) + DPI** and/or softirq (`ksoftirqd`) under high PPS.
- 10GBase-T SFP+ modules can run hot and be flaky; but also check basic copper first.
- Hand-terminated Ethernet can “work” but fail under load. Found swapped pairs on ONT cable; fixing termination restored stability.

## VPN findings
- NordVPN over torrents showed a reproducible “loss cliff” (historically ~35 MiB/s OK, 40 MiB/s caused loss) in earlier testing; later final resolution indicated UDM CPU features were the main choke.
- Mullvad relay selection mattered; Quantum Resistance toggles and MTU changes were tested. MTU effects are not assumed; treat as empirical.

## Final working config (as reported by Joel)
- UDM-SE: **IDS/IPS OFF**, **Traffic Identification/DPI OFF**.
- VPN: Mullvad WG (Boston relay), Quantum Resistance ON, MTU 1380.
- qB: peer limits reduced (e.g., 100 global / 30 per-torrent), no DL cap needed with the above.

## Operational workflow for future debugging
1) Reproduce issue with a controlled load.
2) Watch pings to 1.1.1.1 + gateway, and UDM CPU/softirq/Suricata.
3) Change one variable at a time (IDS/IPS, DPI, VPN relay, qB caps).
4) Prefer shaping/limits at the right choke point; don’t over-tune qB before validating infra.
